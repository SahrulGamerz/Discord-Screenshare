FROM ubuntu:20.04

# Install dependencies
RUN apt-get update
RUN apt-get install -y curl git unzip wget
RUN DEBIAN_FRONTEND=noninteractive TZ=Etc/UTC apt-get -y install tzdata build-essential chromium-browser=1:85.0.4183.83-0ubuntu0.20.04.2 chromium-chromedriver=1:85.0.4183.83-0ubuntu0.20.04.2
RUN curl -fsSL https://deb.nodesource.com/setup_17.x | bash -
RUN apt-get install -y nodejs
RUN npm i -g yarn

# Clone Repo
RUN git clone https://github.com/SahrulGamerz/Discord-Screenshare.git
WORKDIR Discord-Screenshare
RUN yarn install
COPY .env .

RUN whereis chromedriver

# Start Bot
RUN yarn start
